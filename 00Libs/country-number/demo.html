<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Phone Number Parser Demo</title>
  <script src="countries-numbers.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>

  <style>
    * {
      transition: all 0.25s;
    }

    body {
      background: #123;
      color: white;
    }

    .numberdata {
      margin: 10px;
      display: inline-block;
      width: 400px;
      border-radius: 10px;
      border: 2px solid white;
      padding: 20px;
    }

    .item {
      display: flex;
      flex-wrap: nowrap;
      align-items: center;
      justify-content: center;
    }

    .item div {
      width: 50%;
    }

    #resultados-prueba {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
    }
  </style>

  <script>
    console.log(getInfoInNumber("+12015550123"))
    console.log(findPhoneNumbers("My number is +573107257814 and my number job is +573000000000"))

    function convertNumberToHTML(input) {
      return `
        <div class="numberdata">
          <div class="item">
            <div style="text-align:left">codeCountry:</div> 
            <div style="text-align:right">${input.codeCountry}</div>
          </div>
          <div class="item">
            <div style="text-align:left">codeCall:</div> 
            <div style="text-align:right">${input.codeCall}</div>
          </div>
          <div class="item">
            <div style="text-align:left">numberWithoutCodeCall:</div> 
            <div style="text-align:right">${input.numberWithoutCodeCall}</div>
          </div>
          <div class="item">
            <div style="text-align:left">input:</div> 
            <div style="text-align:right">${input.input}</div>
          </div>
          <div class="item">
            <div style="text-align:left">nameCountry:</div> 
            <div style="text-align:right">${input.nameCountry}</div>
          </div>
          <div class="item">
            <div style="text-align:left">formatNational:</div> 
            <div style="text-align:right">${input.formatNational}</div>
          </div>
          <div class="item">
            <div style="text-align:left">formatInternational:</div> 
            <div style="text-align:right">${input.formatInternational}</div>
          </div>
          <div class="item">
            <div style="text-align:left">formatRFC3966:</div> 
            <div style="text-align:right">${input.formatRFC3966}</div>
          </div>
          <div class="item">
            <div style="text-align:left">type:</div> 
            <div style="text-align:right">${input.type}</div>
          </div>
          <div class="item">
            <div style="text-align:left">isPosible:</div> 
            <div style="text-align:right">${input.isPosible}</div>
          </div>
        </div>
        `
    }

    function probar() {
      let result = getInfoInNumber(document.getElementById("number").value)
      let html = convertNumberToHTML(result)
      console.log(result)
      document.getElementById("resultados-prueba").innerHTML = html
    }

    function texto() {
      let results = findPhoneNumbers(document.getElementById("text").value)
      let html = ""
      for (const result of results) {
        html += convertNumberToHTML(result)
      }
      document.getElementById("resultados-texto").innerHTML = html
    }
  </script>

  <div style="padding: 30px;">
    <h1 style="text-transform: uppercase;font-weight: lighter;text-align: center;">
      Identificación de formatos de telefóno en el Mundo
    </h1>
    <br>
    <h3 style="text-transform: uppercase;font-weight: lighter;">
      Consulta de un sólo número
    </h3>
    <br>
    <div style="text-align: center;">
      <input class="btn btn-light" style="cursor: text;" type="text" id="number" value="+12015550123">
      <button class="btn btn-primary" onclick="probar()">Probar</button>
    </div>
    <br>
    <div id="resultados-prueba">
    </div>
    <br>
    <h3 style="text-transform: uppercase;font-weight: lighter;">
      Buscar números en texto
    </h3>
    <br>
    <div style="text-align: center;">
      <textarea style="padding: 10px;text-align: left;cursor: text;width: 50%;height: 200px;"
        id="text">Hola amigos, mi nombre es Jeffrey Agudelo y mi número es +573107257814, el número de mi madre es +7 8005553535 y el de mi padre es (+91)9098765432</textarea>
      <button class="btn btn-primary" style="vertical-align: top;" onclick="texto()">Buscar</button>
      <br>
      <br>
      <div id="resultados-texto">
      </div>
    </div>

  </div>

</body>

</html>